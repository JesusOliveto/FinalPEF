@startuml
skinparam style strictuml
hide circle
skinparam classAttributeIconSize 0

' ==== “Entidades” de servicio (clases OO) ====
entity RoutingService
entity PairwiseDistanceService
entity RouteSplicer
entity ConcurrencyExecutor
entity Profiler

entity Router {  -- interfaz/estrategia pairwise --
}
entity AStarRouter
entity DijkstraRouter
entity BFSRouter

entity TrafficModel
entity HistoricalTrafficModel


entity MultiStopSolver
entity HeldKarpExact
entity HeuristicRoute

entity RouteCache

entity Graph

' ==== Relaciones (cardinalidades de uso/composición) ====
RoutingService ||--|| Graph : usa
RoutingService ||--|| TrafficModel : usa
RoutingService ||--|| PairwiseDistanceService : coordina
RoutingService ||--|| MultiStopSolver : solver_exact
RoutingService ||--|| MultiStopSolver : solver_heur
RoutingService ||--|| RouteSplicer : concatena
RoutingService ||--|| Profiler : perf

PairwiseDistanceService ||--|| AStarRouter : usa
PairwiseDistanceService ||--|| DijkstraRouter : usa
PairwiseDistanceService ||--|| BFSRouter : usa
PairwiseDistanceService ||--o{ ConcurrencyExecutor : paraleliza
PairwiseDistanceService ||--|| RouteCache : cache_rutas

AStarRouter ||--|| Router : implementa
AStarRouter ||--|| TrafficModel : requiere
AStarRouter ||--|| Graph : consulta

DijkstraRouter ||--|| Router : implementa
DijkstraRouter ||--|| TrafficModel : requiere
DijkstraRouter ||--|| Graph : consulta

BFSRouter ||--|| Router : implementa
BFSRouter ||--|| TrafficModel : requiere
BFSRouter ||--|| Graph : consulta

HistoricalTrafficModel ||--|| TrafficModel : implementa

HeldKarpExact ||--|| MultiStopSolver : implementa
HeuristicRoute ||--|| MultiStopSolver : implementa
@enduml
